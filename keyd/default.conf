[ids]
*

[global]
# CapsLock LED turns on when any layer is active (visual feedback)
layer_indicator = 1

[main]
# ═══════════════════════════════════════════════════════════════════════
# ONESHOT MODIFIERS: Tap shift once, then letter (reduces pinky strain)
# ═══════════════════════════════════════════════════════════════════════
leftshift = oneshot(shift)
rightshift = oneshot(shift)
# ═══════════════════════════════════════════════════════════════════════
# CAPS LOCK: The Holy Trinity
# Tap = Escape (Vim exit insert)
# Hold = Control (system-wide Ctrl key, plus nav layer activation)
# ═══════════════════════════════════════════════════════════════════════
capslock = overload(control, esc)

# ═══════════════════════════════════════════════════════════════════════
# ESCAPE: Dual Function
# Tap = Caps Lock (toggle for UPPERCASE typing)
# Hold (>200ms) = Super+` (i3 scratchpad toggle)
# ═══════════════════════════════════════════════════════════════════════
esc = timeout(capslock, 100, M-`)

# ═══════════════════════════════════════════════════════════════════════
# MENU KEY → SUPER
# compose = Application/Menu key (right side, keycode 135)
# leftmeta = Super_L (your i3 $mod key)
# ═══════════════════════════════════════════════════════════════════════
compose = leftmeta

# ═══════════════════════════════════════════════════════════════════════
# RIGHT ALT → TMUX PREFIX (Ctrl+a)
# Tap Right Alt once, then any tmux key
# Example: RAlt → c = new window | RAlt → - = hsplit
# ═══════════════════════════════════════════════════════════════════════
rightalt = C-a

# ═══════════════════════════════════════════════════════════════════════
# TAB → SYMBOL LAYER (Hold for symbols, Tap for Tab)
# Access programming symbols without Shift
# ═══════════════════════════════════════════════════════════════════════
tab = overload(symbols, tab)

# ═══════════════════════════════════════════════════════════════════════
# SPACE → NAVIGATION LAYER (Hold for nav, Tap for Space)
# Thumb on spacebar + hjkl = arrows. No browser conflicts!
# ═══════════════════════════════════════════════════════════════════════
space = overload(nav, space)

# ═══════════════════════════════════════════════════════════════════════
# NAVIGATION LAYER: Space+hjkl = Arrows
# Hold spacebar + vim keys for navigation anywhere
# ═══════════════════════════════════════════════════════════════════════
[nav]
h = left
j = down
k = up
l = right
# Backspace/Delete (no hand movement!)
x = backspace
n = C-backspace
m = delete
# Additional navigation
d = pagedown
u = pageup
0 = home
4 = end
# Word movement
w = C-right
b = C-left
# Screenshots
p = C-S-print
o = S-print
# Quick keys (right pinky)
semicolon = enter
apostrophe = backspace

# ═══════════════════════════════════════════════════════════════════════
# NAVIGATION + SHIFT: Text Selection
# Hold Space + Shift + hjkl to select text
# ═══════════════════════════════════════════════════════════════════════
[nav+shift]
h = S-left
j = S-down
k = S-up
l = S-right
w = S-C-right
b = S-C-left
0 = S-home
4 = S-end
# ═══════════════════════════════════════════════════════════════════════
# SYMBOL LAYER: Hold Tab + key = symbol
# Optimized for C++, Rust, Python, JavaScript
# ═══════════════════════════════════════════════════════════════════════
[symbols]
# Parens (your choice - q/w)
q = (
w = )

# Brackets/Braces (right hand, no hjkl conflict)
n = [
m = ]
comma = {
dot = }

# Operators (remove easy ones, keep hard ones)
# REMOVED: - = ` (easy to type normally)
a = _
s = +
d = |
f = ^

# Common shifted symbols (frequency order)
g = &
t = *
r = !
e = @

# Less common
y = #
u = $
i = %
o = :
p = ;

# Right hand home row (useful symbols)
h = \
j = ?
k = /
l = `

# Arrow operators
c = macro(- >)
v = macro(= >)

# Keep tilde (needs shift)
space = ~