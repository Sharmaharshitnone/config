### Autostart

# PolicyKit Agent (for authentication dialogs)
exec --no-startup-id /home/kali/work/config/sway/scripts/start-polkit-agent.sh

# Wallpaper & Colors (using shared script)
# Use exec_always to apply on reload, sleep ensures IPC is ready
exec_always /home/kali/work/config/sway/scripts/bg.sh 2>&1 | tee /tmp/bg_sh_output.log

# Notification Daemon
exec --no-startup-id mako --config /home/kali/work/config/sway/mako/config

# Autotiling (automatic split direction based on window dimensions)
exec /home/kali/work/config/sway/scripts/sway_autotiling.py

# Idle Management (swayidle)
# Lock screen after 5 min, turn off after 10 min
# Requires: swaylock, swayidle
exec swayidle -w \
         timeout 300 'swaylock -f -c 000000' \
         timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         before-sleep 'swaylock -f -c 000000'

# Clipboard Manager (wl-clipboard + clipman)
exec wl-paste -t text --watch clipman store --no-persist

# Applets
exec --no-startup-id nm-applet --indicator
exec --no-startup-id blueman-applet

# # Alternating Layouts (Optional, if python script supports i3ipc and runs on Wayland)
# exec_always --no-startup-id /home/kali/work/config/i3/scripts/alternating_layouts.py
