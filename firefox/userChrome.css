/* ─── Pure Dark Monochrome Firefox Theme ──────────────────── */
/* Zero-chrome: auto-hide toolbar, overlay sidebar, fullscreen-clean */
/* requires toolkit.legacyUserProfileCustomizations.stylesheets = true */

/* --- STRICT FOCUS-ONLY MODE --- */
/* Toolbar is invisible. Ctrl+L reveals it as a floating overlay.       */
/* This is the single biggest productivity win: 100% screen = content.  */

:root {
  --uc-hide-amount: -40px;
}

#navigator-toolbox {
  position: absolute !important;
  width: 100%;
  z-index: 1000;

  margin-top: var(--uc-hide-amount);
  opacity: 0;

  transition: margin-top 0.0s ease, opacity 0.0s ease !important;
}

/* THE TRIGGER (Ctrl+L) */
#navigator-toolbox:focus-within {
  margin-top: 40vh !important;
  opacity: 1;
}

/* Hide tabs when toolbar is active — URL bar is all you need */
#navigator-toolbox:focus-within #TabsToolbar {
    display: none !important;
}

/* --- COMPACT CHROME (when toolbar IS visible) --- */
/* Minimal footprint: smaller tabs, no URL bar clutter */

#TabsToolbar .tabbrowser-arrowscrollbox,
#tabbrowser-tabs, .tab-stack {
    min-height: 28px !important;
}

.tabbrowser-tab {
    font-size: 80%;
}

.tab-content {
    padding: 0 5px;
}

.tab-close-button .toolbarbutton-icon {
    width: 12px !important;
    height: 12px !important;
}

/* Remove "Search with..." one-off buttons from URL suggestions */
.search-one-offs { display: none !important; }

/* Remove tab top border artifact */
.tab-background { border-top: none !important; }

/* Remove bottom border on toolbox */
#navigator-toolbox::after { border: none; }

/* --- FULLSCREEN --- */
/* F11 fullscreen: hide ALL chrome — pure immersion */

toolbox[inFullscreen=true] { display: none; }

/* --- STATIC OVERLAY SIDEBAR (Keyboard Only) --- */

/* 1. THE CONTAINER (Overlay Logic) */
#sidebar-main, #sidebar-box {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    bottom: 0 !important;
    height: 100vh !important;
    z-index: 2147483647 !important;

    /* Pure dark monochrome — matches i3/dunst/rmpc */
    background-color: #111111 !important;
    color: #d4d4d4 !important;
    box-shadow: 5px 0 20px rgba(0,0,0,0.6) !important;
    border-right: 1px solid #333333 !important;

    width: 400px !important;
    min-width: 400px !important;
}

/* 4. DISABLE NATIVE COLLAPSE */
#sidebar-main[collapsed="true"],
#sidebar-box[collapsed="true"] {
}

/* 5. HIDE THE SPLITTER */
.sidebar-splitter, #sidebar-splitter {
    display: none !important;
}

/* 6. HIDE HEADER */
#sidebar-header {
    display: none !important;
}
